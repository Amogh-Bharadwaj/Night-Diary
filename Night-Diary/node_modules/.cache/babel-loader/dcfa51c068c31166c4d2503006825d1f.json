{"ast":null,"code":"import _slicedToArray from\"/home/amogh/Documents/VS Code/Night-Diary/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useNavigate,useParams}from\"react-router\";import{Flex,Box,Stack,VStack,Text,FormControl,FormLabel,Input,InputGroup,InputLeftElement,Link,Button,Textarea,Divider,Spinner}from\"@chakra-ui/react\";import{ArrowRightIcon,LockIcon,Search2Icon}from\"@chakra-ui/icons\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Diary=function Diary(){// States\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),myDiary=_useState2[0],setDiary=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(\"none\"),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),searchQuery=_useState10[0],setQuery=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),searchResults=_useState12[0],setSearchResults=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];// Routing\nvar _useParams=useParams(),name=_useParams.name;var navigate=useNavigate();var monthNames=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];var getDate=function getDate(){var dateObj=new Date();var month=monthNames[dateObj.getMonth()];var h=dateObj.getHours();var m=dateObj.getMinutes();var day=String(dateObj.getDate()).padStart(2,'0');var year=dateObj.getFullYear();var zero=\"\";if(h==0)zero=\"0\";var output=month+' '+day+','+year+' '+zero+h+':'+m;return output;};var Open=function Open(t,m){setTitle(t);setMessage(m);};var getTitle=function getTitle(e){setTitle(e.target.value);};var getMessage=function getMessage(e){setMessage(e.target.value);};var Clear=function Clear(){setMessage(\"\");};var Exit=function Exit(){navigate('/');};var Delete=function Delete(time){fetch(\"https://night-diary.herokuapp.com/delete\",{method:\"POST\",body:JSON.stringify({time:time}),headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){Diaries();});};var Post=function Post(date){setLoading(\"block\");fetch(\"https://night-diary.herokuapp.com/new\",{method:\"POST\",body:JSON.stringify({name:name,message:message,title:title,time:date}),headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){var status=json.Status;if(status==\"Successfully entered.\"){console.log(\"Submit: \",status);}else{setError(status);}setLoading(\"none\");});setLoading(\"none\");};var Diaries=function Diaries(){setLoading(\"block\");fetch(\"https://night-diary.herokuapp.com/diaries\",{method:\"POST\",body:JSON.stringify({name:name}),headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){var diaries=json.Diaries;var i=0;setDiary(diaries);});setLoading(\"none\");};useEffect(function(){Diaries();},[myDiary]);return/*#__PURE__*/_jsxs(Flex,{direction:\"column\",w:\"full\",align:\"center\",justify:\"center\",p:10,bgGradient:\"linear(360deg, #232A33 ,black)\",children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"5xl\",textColor:\"white\",my:10,children:[name,\"'s Entry\"]}),/*#__PURE__*/_jsx(Input,{mt:10,mb:5,value:title,fontSize:\"2xl\",fontWeight:\"bold\",textColor:\"#b1caf0\",placeholder:\"Title...\",onChange:getTitle,w:\"full\",h:\"8vh\"}),/*#__PURE__*/_jsx(Textarea,{w:\"full\",h:\"60vh\",bg:\"#292C2D\",value:message,focusBorderColor:\"#292C2D\",border:\"none\",_focus:{boxShadow:\"0px 5px 5px black\"},onChange:getMessage,boxShadow:\"0px 5px 5px black\",fontSize:\"2xl\",textColor:\"white\",p:10,resize:\"none\"}),/*#__PURE__*/_jsxs(Flex,{direction:\"row\",bgGradient:\"linear(#676579,#01101a)\",align:\"center\",justify:\"space-evenly\",boxShadow:\"0px 5px 5px black\",w:\"45%\",h:\"10vh\",children:[/*#__PURE__*/_jsx(Button,{w:\"15%\",bgGradient:\"linear(green.500,green.700)\",boxShadow:\"0px 5px 5px black\",_hover:{bgGradient:\"linear(green.700,green.800)\"},onClick:function onClick(){Post(getDate());},children:/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",textColor:\"white\",children:\"Post\"})}),/*#__PURE__*/_jsx(Button,{w:\"15%\",bgGradient:\"linear(yellow.300,yellow.500)\",boxShadow:\"0px 5px 5px black\",_hover:{bgGradient:\"linear(yellow,yellow.700)\"},onClick:Clear,mx:3,children:/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",textColor:\"black\",children:\"Clear\"})}),/*#__PURE__*/_jsx(Button,{w:\"15%\",bgGradient:\"linear(red.800,red.700)\",boxShadow:\"0px 5px 5px black\",_hover:{bgGradient:\"linear(red.800,red.500)\"},onClick:Exit,mx:3,children:/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",textColor:\"black\",children:\"Exit\"})})]}),/*#__PURE__*/_jsx(Divider,{w:\"75%\",mt:10}),/*#__PURE__*/_jsx(Text,{my:7,fontSize:\"5xl\",textColor:\"white\",children:\"My Diary\"}),/*#__PURE__*/_jsxs(VStack,{spacing:6,mt:10,w:\"50%\",h:\"50vh\",overflowY:\"auto\",css:{'&::-webkit-scrollbar':{width:'4px'},'&::-webkit-scrollbar-track':{width:'6px'},'&::-webkit-scrollbar-thumb':{background:\"#3888ff\",borderRadius:'24px'}},children:[loading==\"none\"&&myDiary.map(function(entry){return/*#__PURE__*/_jsxs(Box,{w:\"full\",h:\"25vh\",boxShadow:\"0px 2px 2px white\",textColor:\"white\",bgGradient:\"linear(to-r,#2a3545,black)\",p:10,children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"2xl\",children:[entry.time,/*#__PURE__*/_jsx(\"br\",{}),entry.title]}),/*#__PURE__*/_jsx(Button,{w:\"15%\",bgGradient:\"linear(green.300,green.700)\",mt:2,_hover:{bgGradient:\"linear(green.700,green.800)\"},onClick:function onClick(){Open(entry.title,entry.message);},children:/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",textColor:\"white\",children:\"Open\"})}),/*#__PURE__*/_jsx(Button,{w:\"15%\",bgGradient:\"linear(red.300,red.700)\",mt:2,ml:4,_hover:{bgGradient:\"linear(red.700,red.800)\"},onClick:function onClick(){Delete(entry.time);},children:/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",textColor:\"white\",children:\"Delete\"})})]});}),/*#__PURE__*/_jsx(Spinner,{thickness:\"4px\",speed:\"0.65s\",emptyColor:\"gray.200\",color:\"blue.500\",size:\"xl\",display:loading})]})]});};export default Diary;","map":{"version":3,"sources":["/home/amogh/Documents/VS Code/Night-Diary/src/diary.jsx"],"names":["React","useState","useEffect","useNavigate","useParams","Flex","Box","Stack","VStack","Text","FormControl","FormLabel","Input","InputGroup","InputLeftElement","Link","Button","Textarea","Divider","Spinner","ArrowRightIcon","LockIcon","Search2Icon","Diary","myDiary","setDiary","message","setMessage","loading","setLoading","title","setTitle","searchQuery","setQuery","searchResults","setSearchResults","error","setError","name","navigate","monthNames","getDate","dateObj","Date","month","getMonth","h","getHours","m","getMinutes","day","String","padStart","year","getFullYear","zero","output","Open","t","getTitle","e","target","value","getMessage","Clear","Exit","Delete","time","fetch","method","body","JSON","stringify","headers","then","response","json","Diaries","Post","date","status","Status","console","log","diaries","i","boxShadow","bgGradient","width","background","borderRadius","map","entry"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\"\nimport { useNavigate,useParams } from \"react-router\";\nimport {\n    Flex,\n    Box,\n    Stack,\n    VStack,\n    Text,\n    FormControl,\n    FormLabel,\n    Input,\n    InputGroup,\n    InputLeftElement,\n    Link,\n    Button,\n    Textarea,\n    Divider,\n    Spinner\n} from \"@chakra-ui/react\";\n\nimport{\n    ArrowRightIcon,\n    LockIcon,\n    Search2Icon\n} from \"@chakra-ui/icons\"\n\nconst Diary=()=>{\n    // States\n    const [myDiary,setDiary] = useState([]);\n    const [message,setMessage] = useState(\"\");\n    const [loading,setLoading] = useState(\"none\");\n    const [title,setTitle]=useState(\"\");\n    const [searchQuery, setQuery] = useState(\"\");\n    const [searchResults, setSearchResults] = useState([]);\n    const [error,setError] = useState(\"\");\n    // Routing\n    const {name} = useParams();\n    const navigate = useNavigate();\n\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    \n    const getDate=()=>{\n        let dateObj = new Date();\n        let month = monthNames[dateObj.getMonth()];\n        let h = dateObj.getHours();\n        let m = dateObj.getMinutes();\n        let day = String(dateObj.getDate()).padStart(2, '0');\n        let year = dateObj.getFullYear();\n\n        let zero = \"\";\n        if(h==0)zero=\"0\"\n    \n        let output = month  + ' '+ day  + ',' + year+' '+zero+h+':'+m;\n        return output;\n    }\n\n\n    const Open=(t,m)=>{\n        setTitle(t);\n        setMessage(m);\n    }\n    \n    const getTitle=(e)=>{\n        setTitle(e.target.value);\n    }\n    const getMessage=(e)=>{\n        setMessage(e.target.value);\n    }\n\n    const Clear=()=>{\n        setMessage(\"\");\n    }\n\n    const Exit=()=>{\n        navigate('/');\n    }\n   \n    const Delete=(time)=>{\n        fetch(\n            `https://night-diary.herokuapp.com/delete`,\n            {\n              method: \"POST\",\n              body: JSON.stringify({\n                time: time,\n              }),\n              headers: {\n               \"Content-type\": \"application/json\",\n            },\n            }\n          ).then((response) => response.json())\n            .then((json) => {\n              Diaries();\n            })\n\n    }\n    \n    \n    const Post=(date)=>{  \n        setLoading(\"block\");  \n       \n\n        fetch(\n            `https://night-diary.herokuapp.com/new`,\n            {\n              method: \"POST\",\n              body: JSON.stringify({\n                name:name,\n                message:message,\n                title:title,\n                time: date,\n              }),\n              headers: {\n               \"Content-type\": \"application/json\",\n            },\n            }\n          ).then((response) => response.json())\n            .then((json) => {\n              let status = json.Status;\n              if(status==\"Successfully entered.\"){\n                  console.log(\"Submit: \",status);\n                \n              }\n              else{\n                setError(status);\n              }\n              setLoading(\"none\");  \n              \n            })\n            setLoading(\"none\"); \n    }\n\n    const Diaries=()=>{\n        \n        setLoading(\"block\");  \n        fetch(\n            `https://night-diary.herokuapp.com/diaries`,\n            {\n              method: \"POST\",\n              body: JSON.stringify({\n                name:name,\n              }),\n              headers: {\n               \"Content-type\": \"application/json\",\n            },\n            }\n          )\n            .then((response) => response.json())\n            .then((json) => {\n              let diaries = json.Diaries;\n              let i=0;\n              setDiary(diaries);\n              \n            })\n            setLoading(\"none\");  \n    }\n\n    useEffect(() => {\n     \n        Diaries();\n     }, [myDiary]);\n\n    return(\n        <Flex \n          direction=\"column\"\n          w=\"full\"\n          align=\"center\"\n          justify=\"center\"\n          p={10}\n          bgGradient=\"linear(360deg, #232A33 ,black)\"\n        >\n\n            <Text\n             fontSize=\"5xl\"\n             textColor=\"white\"\n             my={10}\n            >\n                {name}'s Entry\n\n            </Text>\n            <Input \n             mt={10}\n             mb={5}\n             value={title}\n             fontSize=\"2xl\"\n             fontWeight=\"bold\"\n             textColor=\"#b1caf0\"\n             placeholder=\"Title...\"\n             onChange={getTitle}\n             w=\"full\"\n             h=\"8vh\"\n            />\n\n            <Textarea\n                w=\"full\"\n                h=\"60vh\"\n                bg=\"#292C2D\"\n                value={message}\n                focusBorderColor=\"#292C2D\"\n                border=\"none\"\n                _focus={{boxShadow:\"0px 5px 5px black\"}}\n                onChange={getMessage}\n                boxShadow=\"0px 5px 5px black\"\n                fontSize=\"2xl\"\n                textColor=\"white\"\n                p={10}\n                resize=\"none\"\n            />\n\n           <Flex\n            direction=\"row\"\n            bgGradient=\"linear(#676579,#01101a)\"\n            align=\"center\"\n            justify=\"space-evenly\"\n            boxShadow=\"0px 5px 5px black\"\n            w=\"45%\"\n            h=\"10vh\">\n\n            <Button\n             w=\"15%\"\n             bgGradient=\"linear(green.500,green.700)\"\n             boxShadow=\"0px 5px 5px black\" \n             _hover={{bgGradient:\"linear(green.700,green.800)\"}}\n             onClick={()=>{Post(getDate())}}\n            >\n                <Text\n                fontSize=\"lg\"\n                textColor=\"white\"\n                >\n                    Post\n                </Text>\n\n            </Button>\n\n            <Button\n             w=\"15%\"\n             bgGradient=\"linear(yellow.300,yellow.500)\"\n             boxShadow=\"0px 5px 5px black\" \n             _hover={{bgGradient:\"linear(yellow,yellow.700)\"}}\n             onClick={Clear}\n             mx={3}\n            >\n                <Text\n                fontSize=\"lg\"\n                textColor=\"black\"\n                >\n                    Clear\n                </Text>\n\n            </Button>\n\n            <Button\n             w=\"15%\"\n             bgGradient=\"linear(red.800,red.700)\"\n             boxShadow=\"0px 5px 5px black\" \n             _hover={{bgGradient:\"linear(red.800,red.500)\"}}\n             onClick={Exit}\n             mx={3}\n            >\n                <Text\n                fontSize=\"lg\"\n                textColor=\"black\"\n                >\n                    Exit\n                </Text>\n\n            </Button>\n        </Flex>\n\n        <Divider w=\"75%\" mt={10}/>\n\n        <Text \n         my={7}\n         fontSize=\"5xl\"\n         textColor=\"white\"\n        >\n            My Diary\n        </Text>\n\n        <VStack\n          spacing={6}\n          mt={10}\n          w=\"50%\"\n          h=\"50vh\"\n          overflowY=\"auto\"\n\n          css={{\n            '&::-webkit-scrollbar': {\n              width: '4px',\n            },\n            '&::-webkit-scrollbar-track': {\n              width: '6px',\n            },\n            '&::-webkit-scrollbar-thumb': {\n              background: \"#3888ff\",\n              borderRadius: '24px',\n            }}}\n\n        >\n            {\n                (loading==\"none\" && myDiary.map((entry)=> {return(\n                    <Box\n                     \n                     w=\"full\"\n                     h=\"25vh\"\n                     boxShadow=\"0px 2px 2px white\"\n                     textColor=\"white\"\n                     bgGradient=\"linear(to-r,#2a3545,black)\"\n                     p={10}\n                    >\n                        <Text \n                         fontSize=\"2xl\"\n                         >\n                             {entry.time}\n                             <br/>\n                             {entry.title}\n                         </Text>\n\n                         <Button\n                            w=\"15%\"\n                            \n                            bgGradient=\"linear(green.300,green.700)\"\n                             mt={2}\n                            _hover={{bgGradient:\"linear(green.700,green.800)\"}}\n                            onClick={()=>{Open(entry.title,entry.message)}}\n                        >\n                            <Text\n                            fontSize=\"lg\"\n                            textColor=\"white\"\n                            >\n                                Open\n                            </Text>\n\n                        </Button>   \n\n                        <Button\n                            w=\"15%\"\n                            bgGradient=\"linear(red.300,red.700)\"\n                             mt={2}\n                             ml={4}\n                            _hover={{bgGradient:\"linear(red.700,red.800)\"}}\n                            onClick={()=>{Delete(entry.time)}}\n                        >\n                            <Text\n                            fontSize=\"lg\"\n                            textColor=\"white\"\n                            >\n                                Delete\n                            </Text>\n\n                        </Button>   \n                    </Box>\n                )\n                \n            })\n            )\n            }\n                <Spinner\n                thickness='4px'\n                speed='0.65s'\n                emptyColor='gray.200'\n                color='blue.500'\n                size='xl'\n                display={loading}\n                />\n\n            \n\n        </VStack>\n\n\n        </Flex>\n    )\n}\n\nexport default Diary;\n"]},"metadata":{},"sourceType":"module"}